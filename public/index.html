<html ng-app="BestivalsApp">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/css/styles.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="/js/app.js"></script>
    <title>Bestivals</title>
  </head>
  <body ng-controller="MainController as ctrl">

    <!-- {{ctrl.test}} -->
  <h1>Bestivals</h1>


    {{ctrl.test}}
    <div class="login-modal">
        <div class="login-box">
          Login:<br>
          <form ng-submit='ctrl.loginUser()'>
            <input type="text" placeholder="username" ng-model="ctrl.loginForm.username" />
            <input type="password" placeholder="password" ng-model="ctrl.loginForm.password" />
            <input type="submit" />
            <a class="close-modal" href="#">x</a>
          </form>
        </div>
      </div>Â 
      <div class="header">Hi, {{ctrl.user.username}}!
        <a class="login" href="#">Login</a>
        <a class="register" href="#">Register</a>
        <form ng-if='ctrl.user' ng-submit="ctrl.logout()">
          <input type="submit" value="Logout">
        </form>
      </div>

      <table>
          <tr ng-repeat="festival in ctrl.festivals">
            <td><h3>{{festival.name}}</h3></td>
            <td>Type: {{festival.type}}</td>
            <td>Location: {{festival.location}}</td>
            <td>Dates: {{festival.dates}}</td>
            <td>Ticket Price: ${{festival.cost}}</td>
            <td>Submitted by: {{festival.submittedBy}}</td>
            <td><img ng-src="{{festival.img}}"</td>
             <td ng-click="ctrl.deleteFestival( festival._id)">X</td>
          </tr>
        </table>

  </body>
</html>
